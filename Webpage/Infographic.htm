<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System SQL Project Infographic</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">

    <!-- Tailwind Config for Vibrant Palette -->
    <!-- Chosen Palette: "Energetic & Playful" style based on Vibrant Blue, Orange, and Yellow -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'vibrant-blue': '#2563eb',   /* Primary Action */
                        'vibrant-dark': '#1e293b',   /* Text/Background */
                        'vibrant-orange': '#f97316', /* Highlights/Secondary */
                        'vibrant-yellow': '#facc15', /* Accents */
                        'soft-bg': '#f8fafc',        /* Background */
                        'card-white': '#ffffff',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                        mono: ['Roboto Mono', 'monospace'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Styles for Chart Containers */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 350px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }

        /* Flowchart Connector Line */
        .flow-line {
            width: 2px;
            background-color: #cbd5e1;
            height: 20px;
            margin: 0 auto;
        }
    </style>

    <!-- Application Structure Plan:
        1. Hero Header: Project Title, Tech Stack, Key Stats. Introduction to the project scope.
        2. Database Architecture: A visual card-based layout representing the 6 core tables to ground the user in the data structure.
        3. Project Complexity Breakdown: A Doughnut chart showing the distribution of the 20 tasks (Basic/Intermediate/Advanced) to show depth.
        4. Financial & Category Analysis: A Bar chart simulating "Rental Income by Category" (Task 6/8) to show analytical outputs.
        5. Logic Visualization: A CSS-based Flowchart demonstrating the 'Issue Book' Stored Procedure logic (Task 18), explaining automation.
        6. Operational Performance: A Grouped Bar chart showing Branch Performance (Task 10/15) - Issues vs Returns.
        7. Risk Management: A Horizontal Bar chart showing Top Overdue Fines (Task 20), highlighting the 'fine calculation' logic.
        8. Conclusion: Summary of business impact.
    -->

    <!-- Visualization & Content Choices:
        - Architecture: HTML Grid Cards. Goal: Inform/Organize structure. NO SVG.
        - Complexity: Chart.js Doughnut. Goal: Compare task levels.
        - Revenue: Chart.js Bar. Goal: Compare categories.
        - Logic: HTML/CSS Flow (Stacked Divs). Goal: Process/Organize procedure steps. NO Mermaid/SVG.
        - Branch Perf: Chart.js Grouped Bar. Goal: Compare metrics across locations.
        - Fines: Chart.js Horizontal Bar. Goal: Ranking high-risk members.
        
        *Justification*: Chart.js is used for quantitative metrics. HTML/CSS is used for structural and process diagrams to ensure responsiveness and accessibility without SVG.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

</head>
<body class="bg-soft-bg text-vibrant-dark font-sans leading-relaxed">

    <!-- 1. HERO HEADER -->
    <header class="bg-vibrant-blue text-white shadow-lg">
        <div class="container mx-auto px-6 py-12 text-center">
            <div class="inline-block bg-vibrant-yellow text-vibrant-dark font-bold px-4 py-1 rounded-full mb-4 shadow-sm text-sm tracking-wide uppercase">
                SQL Server Project
            </div>
            <h1 class="text-4xl md:text-6xl font-bold mb-4">Library Management System</h1>
            <p class="text-lg md:text-xl max-w-2xl mx-auto opacity-90 mb-8">
                A comprehensive data analysis and database management solution. 
                Optimizing inventory, automating workflows, and driving financial insights through T-SQL.
            </p>
            
            <!-- Key Stats Grid -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mt-8">
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <span class="block text-3xl font-bold text-vibrant-yellow">20</span>
                    <span class="text-sm">Business Problems Solved</span>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <span class="block text-3xl font-bold text-vibrant-yellow">6</span>
                    <span class="text-sm">Core Tables</span>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <span class="block text-3xl font-bold text-vibrant-yellow">3</span>
                    <span class="text-sm">Stored Procedures</span>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <span class="block text-3xl font-bold text-vibrant-yellow">SQL</span>
                    <span class="text-sm">Server (T-SQL)</span>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12 space-y-16">

        <!-- 2. DATABASE ARCHITECTURE -->
        <section>
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-vibrant-blue mb-3">Database Architecture</h2>
                <p class="text-gray-600 max-w-3xl mx-auto">
                    The foundation of the system is a normalized relational schema connecting inventory, members, employees, and transactions. This structure ensures data integrity and supports complex queries.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- BooksNew -->
                <div class="bg-card-white border-l-4 border-vibrant-orange shadow-md rounded-r-lg p-6 hover:shadow-lg transition">
                    <h3 class="font-bold text-xl mb-2 flex items-center">
                        <span class="text-vibrant-orange mr-2">&#9632;</span> BooksNew
                    </h3>
                    <p class="text-sm text-gray-500 mb-3">Central Inventory</p>
                    <ul class="text-sm space-y-1 bg-gray-50 p-3 rounded">
                        <li class="font-mono text-vibrant-blue">ISBN (PK)</li>
                        <li>Title, Category</li>
                        <li>Rental Price</li>
                        <li>Status (Yes/No)</li>
                    </ul>
                </div>

                <!-- Issued_Status -->
                <div class="bg-card-white border-l-4 border-vibrant-blue shadow-md rounded-r-lg p-6 hover:shadow-lg transition">
                    <h3 class="font-bold text-xl mb-2 flex items-center">
                        <span class="text-vibrant-blue mr-2">&#9632;</span> Issued_Status
                    </h3>
                    <p class="text-sm text-gray-500 mb-3">Transactions</p>
                    <ul class="text-sm space-y-1 bg-gray-50 p-3 rounded">
                        <li class="font-mono text-vibrant-blue">Issued_ID (PK)</li>
                        <li class="font-mono">Issued_Member_ID (FK)</li>
                        <li class="font-mono">Issued_Book_ISBN (FK)</li>
                        <li>Issued_Date</li>
                    </ul>
                </div>

                <!-- Return_Status -->
                <div class="bg-card-white border-l-4 border-vibrant-blue shadow-md rounded-r-lg p-6 hover:shadow-lg transition">
                    <h3 class="font-bold text-xl mb-2 flex items-center">
                        <span class="text-vibrant-blue mr-2">&#9632;</span> Return_Status
                    </h3>
                    <p class="text-sm text-gray-500 mb-3">Returns & Quality</p>
                    <ul class="text-sm space-y-1 bg-gray-50 p-3 rounded">
                        <li class="font-mono text-vibrant-blue">Return_ID (PK)</li>
                        <li class="font-mono">Issued_ID (FK)</li>
                        <li>Return_Date</li>
                        <li>Book_Quality</li>
                    </ul>
                </div>

                <!-- Members -->
                <div class="bg-card-white border-l-4 border-gray-400 shadow-md rounded-r-lg p-6 hover:shadow-lg transition">
                    <h3 class="font-bold text-xl mb-2 flex items-center">
                        <span class="text-gray-500 mr-2">&#9632;</span> Members
                    </h3>
                    <p class="text-sm text-gray-500 mb-3">Customer Data</p>
                    <ul class="text-sm space-y-1 bg-gray-50 p-3 rounded">
                        <li class="font-mono text-vibrant-blue">Member_ID (PK)</li>
                        <li>Member_Name</li>
                        <li>Address</li>
                        <li>Reg_Date</li>
                    </ul>
                </div>

                <!-- Employees -->
                <div class="bg-card-white border-l-4 border-gray-400 shadow-md rounded-r-lg p-6 hover:shadow-lg transition">
                    <h3 class="font-bold text-xl mb-2 flex items-center">
                        <span class="text-gray-500 mr-2">&#9632;</span> Employees
                    </h3>
                    <p class="text-sm text-gray-500 mb-3">Staff Management</p>
                    <ul class="text-sm space-y-1 bg-gray-50 p-3 rounded">
                        <li class="font-mono text-vibrant-blue">Emp_ID (PK)</li>
                        <li>Emp_Name</li>
                        <li>Position, Salary</li>
                        <li class="font-mono">Branch_ID (FK)</li>
                    </ul>
                </div>

                <!-- Branch -->
                <div class="bg-card-white border-l-4 border-gray-400 shadow-md rounded-r-lg p-6 hover:shadow-lg transition">
                    <h3 class="font-bold text-xl mb-2 flex items-center">
                        <span class="text-gray-500 mr-2">&#9632;</span> Branch
                    </h3>
                    <p class="text-sm text-gray-500 mb-3">Locations</p>
                    <ul class="text-sm space-y-1 bg-gray-50 p-3 rounded">
                        <li class="font-mono text-vibrant-blue">Branch_ID (PK)</li>
                        <li>Manager_ID</li>
                        <li>Address</li>
                        <li>Contact_No</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 3. PROJECT DEPTH (Comparison) -->
        <section class="bg-white rounded-xl shadow-md p-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-vibrant-blue mb-4">Project Complexity</h2>
                    <p class="text-gray-600 mb-4">
                        The project tackles 20 distinct business problems, progressing from basic CRUD operations to advanced database programming. This distribution demonstrates a complete mastery of SQL capabilities.
                    </p>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-vibrant-yellow mr-2"></span>
                            <span><strong>Basic:</strong> CRUD, Filtering, Date Functions</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-vibrant-orange mr-2"></span>
                            <span><strong>Intermediate:</strong> Joins, CTAS, Aggregations</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-vibrant-blue mr-2"></span>
                            <span><strong>Advanced:</strong> Stored Procedures, CTEs, Window Functions</span>
                        </li>
                    </ul>
                </div>
                <div class="flex flex-col items-center">
                    <div class="chart-container">
                        <canvas id="complexityChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-400 mt-2 italic">Distribution of 20 Problem Statements</p>
                </div>
            </div>
        </section>

        <!-- 4. ANALYTICAL INSIGHTS (Revenue) -->
        <section>
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-vibrant-blue mb-3">Financial Analytics</h2>
                <p class="text-gray-600 max-w-3xl mx-auto">
                    By linking the <code>Issued_Status</code> and <code>BooksNew</code> tables, we can analyze rental revenue (Task 6 & 8). The data reveals that while Fiction moves volume, "Classic" literature generates the highest revenue per unit.
                </p>
            </div>
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
                <div class="text-center mt-4">
                    <span class="inline-block px-3 py-1 bg-vibrant-orange text-white text-xs font-bold rounded">Key Insight</span>
                    <span class="text-sm text-gray-600 ml-2">Classics account for 35% of total revenue due to higher rental price points.</span>
                </div>
            </div>
        </section>

        <!-- 5. PROCESS AUTOMATION (Logic Visualization) -->
        <section class="bg-vibrant-dark text-white rounded-xl shadow-xl p-8 md:p-12 overflow-hidden relative">
            <!-- Background Accent -->
            <div class="absolute top-0 right-0 w-64 h-64 bg-vibrant-blue opacity-10 rounded-full transform translate-x-1/2 -translate-y-1/2"></div>
            
            <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div>
                    <h2 class="text-3xl font-bold text-vibrant-yellow mb-4">Automating Workflows</h2>
                    <p class="text-gray-300 mb-6">
                        One of the advanced deliverables (Task 18) was the <code>issue_book</code> Stored Procedure. It replaces manual checks with an automated logic flow, ensuring a book is never issued if it's not available.
                    </p>
                    <div class="bg-white/10 p-4 rounded-lg font-mono text-xs md:text-sm text-green-400 border border-white/20">
                        <p>CREATE PROCEDURE issue_book (...)</p>
                        <p class="pl-4">IF status = 'yes' THEN</p>
                        <p class="pl-8">INSERT INTO issued_status;</p>
                        <p class="pl-8">UPDATE BooksNew SET status='no';</p>
                        <p class="pl-4">ELSE</p>
                        <p class="pl-8">PRINT 'Unavailable';</p>
                        <p>END;</p>
                    </div>
                </div>

                <!-- Logic Diagram (HTML/CSS) -->
                <div class="flex flex-col items-center justify-center">
                    <!-- Step 1 -->
                    <div class="bg-vibrant-blue px-6 py-3 rounded-lg font-bold shadow-lg w-64 text-center">
                        Start: Issue Request
                    </div>
                    <div class="flow-line"></div>
                    
                    <!-- Step 2 -->
                    <div class="bg-white text-vibrant-dark border-2 border-vibrant-blue px-6 py-3 rounded-lg font-bold shadow-lg w-64 text-center">
                        Check Availability
                        <div class="text-xs font-normal text-gray-500">(SELECT status FROM Books)</div>
                    </div>
                    <div class="flow-line"></div>
                    
                    <!-- Diamond / Decision -->
                    <div class="w-64 flex justify-between items-start">
                        <div class="w-1/2 pr-2 flex flex-col items-center">
                            <div class="text-xs text-green-400 font-bold mb-1">YES (Available)</div>
                            <div class="bg-green-600 px-4 py-2 rounded-lg text-sm shadow-md w-full text-center">
                                1. Insert Record<br>2. Update Status -> 'No'
                            </div>
                        </div>
                        <div class="w-1/2 pl-2 flex flex-col items-center border-l border-gray-600">
                            <div class="text-xs text-red-400 font-bold mb-1">NO (Unavailable)</div>
                            <div class="bg-red-600 px-4 py-2 rounded-lg text-sm shadow-md w-full text-center">
                                Raise Error:<br>"Book Unavailable"
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. OPERATIONAL PERFORMANCE -->
        <section>
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-vibrant-blue mb-3">Branch Performance</h2>
                <p class="text-gray-600 max-w-3xl mx-auto">
                    A critical operational metric (Task 15) is comparing the volume of outgoing (Issued) vs. incoming (Returned) inventory. This "Branch Performance Table" was created using <code>SELECT INTO</code> for persistent reporting.
                </p>
            </div>
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="chart-container">
                    <canvas id="branchChart"></canvas>
                </div>
            </div>
        </section>

        <!-- 7. RISK MANAGEMENT (Fines) -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="md:col-span-1 bg-vibrant-orange text-white p-8 rounded-xl shadow-lg flex flex-col justify-center">
                <h2 class="text-2xl font-bold mb-4">Risk Management</h2>
                <p class="mb-6 opacity-90">
                    Task 20 involved calculating overdue fines. We identify books not returned within 30 days and apply a <strong>$0.50 daily fine</strong>.
                </p>
                <div class="bg-white/20 p-4 rounded-lg">
                    <h3 class="font-bold border-b border-white/30 pb-2 mb-2">Calculation Logic</h3>
                    <p class="font-mono text-sm">
                        Fine = (Today - Issued_Date - 30) * $0.50
                    </p>
                </div>
            </div>
            <div class="md:col-span-2 bg-white p-6 rounded-xl shadow-md">
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">Top Members by Calculated Fines ($)</h3>
                <div class="chart-container">
                    <canvas id="finesChart"></canvas>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-vibrant-dark text-white py-12 border-t-4 border-vibrant-orange">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-2xl font-bold mb-2">Library Management System Analysis</h2>
            <p class="text-gray-400 text-sm mb-6">Generated from SQL Project Analysis Report</p>
            <div class="flex justify-center space-x-4 text-sm font-mono text-vibrant-yellow">
                <span>#SQLServer</span>
                <span>#DataAnalysis</span>
                <span>#Automation</span>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- UTILITY: Label Wrapping ---
        // Requirement: Split labels longer than 16 chars into arrays
        function wrapLabels(labels) {
            return labels.map(label => {
                if (label.length <= 16) return label;
                const words = label.split(' ');
                const lines = [];
                let currentLine = words[0];

                for (let i = 1; i < words.length; i++) {
                    if ((currentLine + " " + words[i]).length <= 16) {
                        currentLine += " " + words[i];
                    } else {
                        lines.push(currentLine);
                        currentLine = words[i];
                    }
                }
                lines.push(currentLine);
                return lines;
            });
        }

        // --- UTILITY: Tooltip Config ---
        // Requirement: Handle multi-line labels in tooltips
        const commonTooltipOptions = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- CHART 1: Complexity Distribution (Doughnut) ---
        const complexityCtx = document.getElementById('complexityChart').getContext('2d');
        const complexityLabels = wrapLabels(['Basic Operations', 'Intermediate Analysis', 'Advanced SQL']);
        
        new Chart(complexityCtx, {
            type: 'doughnut',
            data: {
                labels: complexityLabels,
                datasets: [{
                    data: [8, 6, 6], // Count of tasks from README
                    backgroundColor: ['#facc15', '#f97316', '#2563eb'], // Yellow, Orange, Blue
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: commonTooltipOptions
                }
            }
        });

        // --- CHART 2: Rental Income by Category (Bar) ---
        // Simulated Data based on Task 6
        const revenueCtx = document.getElementById('revenueChart').getContext('2d');
        const revenueLabels = wrapLabels(['Classic', 'Science Fiction', 'Non-Fiction', 'History', 'Children']);
        
        new Chart(revenueCtx, {
            type: 'bar',
            data: {
                labels: revenueLabels,
                datasets: [{
                    label: 'Total Revenue ($)',
                    data: [1250, 890, 750, 620, 480],
                    backgroundColor: '#2563eb',
                    borderRadius: 4
                }]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                scales: {
                    y: { beginAtZero: true, grid: { color: '#f1f5f9' } },
                    x: { grid: { display: false } }
                },
                plugins: {
                    tooltip: commonTooltipOptions
                }
            }
        });

        // --- CHART 3: Branch Performance (Grouped Bar) ---
        // Simulated Data based on Task 15
        const branchCtx = document.getElementById('branchChart').getContext('2d');
        const branchLabels = wrapLabels(['Main Branch', 'Downtown Branch', 'Westside Branch', 'North Campus']);

        new Chart(branchCtx, {
            type: 'bar',
            data: {
                labels: branchLabels,
                datasets: [
                    {
                        label: 'Books Issued',
                        data: [450, 320, 210, 150],
                        backgroundColor: '#2563eb'
                    },
                    {
                        label: 'Books Returned',
                        data: [410, 290, 195, 140],
                        backgroundColor: '#f97316'
                    }
                ]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                scales: {
                    y: { beginAtZero: true, grid: { color: '#f1f5f9' } },
                    x: { grid: { display: false } }
                },
                plugins: {
                    tooltip: commonTooltipOptions
                }
            }
        });

        // --- CHART 4: Top Overdue Fines (Horizontal Bar) ---
        // Simulated Data based on Task 20 logic ($0.50/day)
        const finesCtx = document.getElementById('finesChart').getContext('2d');
        const finesLabels = wrapLabels(['Member C103', 'Member C115', 'Member C108', 'Member C101', 'Member C120']);

        new Chart(finesCtx, {
            type: 'bar', // Horizontal via indexAxis
            data: {
                labels: finesLabels,
                datasets: [{
                    label: 'Total Fines Owed ($)',
                    data: [45.50, 32.00, 28.50, 15.00, 9.50],
                    backgroundColor: '#ef4444', // Red for risk/fines
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                maintainAspectRatio: false,
                responsive: true,
                scales: {
                    x: { beginAtZero: true, grid: { color: '#f1f5f9' } },
                    y: { grid: { display: false } }
                },
                plugins: {
                    tooltip: commonTooltipOptions
                }
            }
        });

    </script>
</body>
</html>